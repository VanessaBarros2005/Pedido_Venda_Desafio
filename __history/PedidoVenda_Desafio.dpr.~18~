program PedidoVenda_Desafio;

uses
  Vcl.Forms,
  UPedidoVendaDesafio_View in 'UPedidoVendaDesafio_View.pas',
  UCliente in 'Model\UCliente.pas',
  UProduto in 'Model\UProduto.pas',
  {$R}
  {$R}
  UPedidoVenda in 'Model\UPedidoVenda.pas' {$R *.res},
  UIPedidoVendaRepository in 'DAO\UIPedidoVendaRepository.pas',
  UPedidoVendaRepository in 'DAO\UPedidoVendaRepository.pas',
  UIPedidoVendaService in 'Service\UIPedidoVendaService.pas',
  UPedidoVendaService in 'Service\UPedidoVendaService.pas',
  UPedidoDesafioDataModuleConexao in 'DAO\UPedidoDesafioDataModuleConexao.pas' {DataModule1: TDataModule};

{$R *.res}

var
  LRepository: IPedidoVendaRepository;
  LService: IPedidoVendaService;

begin
  Application.Initialize;
  Application.MainFormOnTaskbar := True;


  Application.CreateForm(TUPedidoVendaDataModuleConexao, UPedidoVendaDataModuleConexao);
  Application.CreateForm(TDataModule1, DataModule1);
  LRepository := TPedidoVendaRepository.Create(DataModuleConexao.FDConnection);
  LService := TPedidoVendaService.Create(LRepository);

  Application.CreateForm(TUPedidoVendaDesafio_View, UPedidoVendaDesafio_View);

  TUPedidoVendaDesafio_View(UPedidoVendaDesafio_View).SetService(LService);

  Application.Run;
end.
